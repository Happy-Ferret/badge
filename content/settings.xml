<?xml version="1.0"?>
<bindings xmlns="http://www.mozilla.org/xbl"
		xmlns:xbl="http://www.mozilla.org/xbl"
		xmlns:xhtml="http://www.w3.org/1999/xhtml"
		xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
	<binding id="setting-color" extends="chrome://mozapps/content/extensions/setting.xml#setting-color">
		<content>
			<xul:vbox>
				<xul:hbox class="preferences-alignment">
					<xul:label class="preferences-title" flex="1" xbl:inherits="xbl:text=title"/>
				</xul:hbox>
				<xul:description class="preferences-description" flex="1" xbl:inherits="xbl:text=desc"/>
			</xul:vbox>
			<xul:hbox class="preferences-alignment">
				<xhtml:input type="color" anonid="input" xbl:inherits="disabled" onchange="document.getBindingParent(this).inputChanged();"/>
			</xul:hbox>
		</content>
		<implementation>
			<method name="valueFromPreference">
				<body><![CDATA[
// We must wait for the colorpicker's binding to be applied before setting the value
this.value = Services.prefs.getCharPref(this.pref);
			    ]]></body>
			</method>
			<property name="value" onget="return this.input.value;" onset="return this.input.value = val;"/>
		</implementation>
	</binding>
</bindings>
